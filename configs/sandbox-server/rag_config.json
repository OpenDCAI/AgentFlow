{
  "server": {
    "url": "http://127.0.0.1:18890",
    "port": 18890,
    "session_ttl": 600
  },
  "resources": {
    "rag": {
      "enabled": true,
      "description": "RAG 检索后端 - 文档检索 (E5 + Faiss)",
      "backend_class": "sandbox.server.backends.resources.rag.RAGBackend",
      "config": {
        "_comment_device": [
          "device 格式说明:",
          "- 'cuda:0'        → Encoder 用 cuda:0, Index 用 cpu",
          "- 'cuda:0/cuda:1' → Encoder 用 cuda:0, Index 用 cuda:1",
          "- 'cpu'           → 全部用 cpu"
        ],
        "_comment_required": "请通过环境变量提供本机 RAG 资源路径（避免提交绝对路径）：RAG_EMBEDDING_MODEL_PATH/RAG_INDEX_PATH/RAG_CORPUS_PATH",
        "model_name": "${RAG_EMBEDDING_MODEL_PATH}",
        "index_path": "${RAG_INDEX_PATH}",
        "corpus_path": "${RAG_CORPUS_PATH}",
        "device": "cuda:2",
        "default_top_k": 10,
        "batcher_trigger_batch_size": 16,
        "batcher_max_batch_size": 32,
        "batcher_max_wait_time": 0.05
      }
    }
  },
  "warmup": {
    "enabled": true,
    "resources": ["rag"]
  }
}

