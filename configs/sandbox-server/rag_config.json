{
  "server": {
    "url": "http://127.0.0.1:18890",
    "port": 18890,
    "session_ttl": 600
  },
  "resources": {
    "rag": {
      "enabled": true,
      "description": "RAG retrieval backend - document search (E5 + Faiss)",
      "backend_class": "sandbox.server.backends.resources.rag.RAGBackend",
      "config": {
        "_comment_device": [
          "Device format reference:",
          "- 'cuda:0'        -> encoder on cuda:0, index on cpu",
          "- 'cuda:0/cuda:1' -> encoder on cuda:0, index on cuda:1",
          "- 'cpu'           -> all components on cpu"
        ],
        "_comment_required": "Provide local RAG resource paths via environment variables (avoid committing absolute paths): RAG_EMBEDDING_MODEL_PATH / RAG_INDEX_PATH / RAG_CORPUS_PATH",
        "model_name": "${RAG_EMBEDDING_MODEL_PATH}",
        "index_path": "${RAG_INDEX_PATH}",
        "corpus_path": "${RAG_CORPUS_PATH}",
        "device": "cuda:2",
        "default_top_k": 10,
        "batcher_trigger_batch_size": 16,
        "batcher_max_batch_size": 32,
        "batcher_max_wait_time": 0.05
      }
    }
  },
  "warmup": {
    "enabled": true,
    "resources": ["rag"]
  }
}

